# ==========================================
# HopeBridge Frontend Apache Configuration
# ==========================================

# Include all default Apache settings (MPMs, modules, etc.)
Include conf/original/httpd.conf

# -------------------------------------------------------
# Custom Angular SPA configuration
# -------------------------------------------------------

ServerAdmin admin@localhost
DocumentRoot "/usr/local/apache2/htdocs"

<Directory "/usr/local/apache2/htdocs">
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# Enable rewrite engine for Angular routing
<IfModule mod_rewrite.c>
    RewriteEngine On

    # Redirect all non-file/non-directory requests to index.html
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ /index.html [L]
</IfModule>

# MIME types for static assets
AddType text/html .html
AddType text/css .css
AddType application/javascript .js
AddType application/json .json
AddType image/svg+xml .svg
AddType font/woff2 .woff2

ErrorLog /usr/local/apache2/logs/error.log
CustomLog /usr/local/apache2/logs/access.log combined
